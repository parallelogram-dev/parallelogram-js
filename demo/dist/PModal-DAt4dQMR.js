import{g as a,t as o}from"./parallelogram-demo.min.js";import{E as e}from"./ComponentStates-CcJglg_C.js";class t extends HTMLElement{static get observedAttributes(){return["open","data-modal-size","data-modal-closable"]}constructor(){super();const a=this.attachShadow({mode:"open"});a.innerHTML='\n      <style>[hidden]{display:none!important}:host{--modal-text:currentColor;--modal-muted:rgba(0,0,0,.5);--modal-accent:#3b82f6;--modal-hover:rgba(0,0,0,.05);--modal-backdrop-bg:var(--modal-backdrop-bg,rgba(0,0,0,.5));--modal-panel-bg:var(--surface-dialog-color-bg,#fff);--modal-panel-color:var(--surface-dialog-color-text,#1f2937);--modal-panel-border:var(--surface-dialog-border-color,rgba(0,0,0,.1));--modal-header-bg:var(--surface-dialog-color-bg,#fff);--modal-header-border:var(--surface-dialog-border-color,rgba(0,0,0,.1));--modal-footer-bg:var(--surface-dialog-color-bg,#fff);--modal-footer-border:var(--surface-dialog-border-color,rgba(0,0,0,.1));--modal-close-hover-bg:rgba(0,0,0,.08);--modal-btn-primary-bg:#3b82f6;--modal-btn-primary-color:#fff;--modal-btn-primary-hover-bg:#2563eb;--modal-btn-danger-bg:#dc2626;--modal-btn-danger-color:#fff;--modal-btn-danger-hover-bg:#b91c1c;--modal-btn-bg:#f3f4f6;--modal-btn-color:#1f2937;--modal-btn-hover-bg:#e5e7eb;--modal-placeholder-opacity:0.6;--modal-disabled-opacity:0.5;--modal-space-xs:0.125em;--modal-space-sm:0.25em;--modal-space-md:0.5em;--modal-space-lg:0.75em;--modal-space-xl:1em;--modal-padding-x:0.875em;--modal-padding-y:0.75em;--modal-gap:0.5em;--modal-radius:0.5em;--modal-radius-lg:var(--surface-dialog-radius,0.625em);--modal-radius-xl:1em;--modal-border-width:var(--surface-dialog-border-width,1px);--modal-shadow-color:rgba(0,0,0,.5);--modal-shadow:var(--surface-dialog-shadow,0 1.25em 3.75em var(--modal-shadow-color));--modal-transition:0.2s ease;--modal-animation-duration:0.2s;--modal-animation-easing:ease-out;--modal-size-xs:18.75em;--modal-size-sm:25em;--modal-size-md:40em;--modal-size-lg:50em;--modal-size-xl:62.5em;--modal-max-width:92vw;--modal-max-height:86vh;--modal-fullscreen-inset:3em;--modal-close-size:1.75em;--modal-font-sm:0.875em;--modal-font-md:1.125em;--modal-btn-min-height:3.125em;box-sizing:border-box}.modal__panel{border:var(--modal-border-width) solid var(--modal-panel-border)}.modal__close,.modal__panel,::slotted(.btn){border-radius:var(--modal-radius-lg)}.modal__close,.modal__footer,.modal__header{align-items:center;display:flex}@media (prefers-reduced-motion:no-preference){.modal__backdrop{transition:opacity var(--modal-transition)}.modal__panel{transition:opacity var(--modal-transition),transform var(--modal-transition)}.modal__close{transition:background-color var(--modal-transition)}::slotted(.btn){transition:background-color var(--modal-transition),color var(--modal-transition),transform var(--modal-transition)}}:host{display:none}:host([open]){animation:modal-fade-in var(--modal-animation-duration) var(--modal-animation-easing);display:block;inset:0;position:fixed;z-index:9999}.modal__backdrop{animation:modal-backdrop-in var(--modal-animation-duration) var(--modal-animation-easing);background:var(--modal-backdrop-bg);inset:0;position:absolute}.modal__panel{animation:modal-panel-in var(--modal-animation-duration) var(--modal-animation-easing);background:var(--modal-panel-bg);box-shadow:var(--modal-shadow);color:var(--modal-panel-color);display:flex;flex-direction:column;left:50%;max-height:var(--modal-max-height);max-width:var(--modal-max-width);min-width:min(var(--modal-max-width),var(--modal-size-md));position:absolute;top:50%;transform:translate(-50%,-50%)}:host([data-modal-size=xs]) .modal__panel{min-width:min(var(--modal-max-width),var(--modal-size-xs))}:host([data-modal-size=sm]) .modal__panel{min-width:min(var(--modal-max-width),var(--modal-size-sm))}:host([data-modal-size=lg]) .modal__panel{min-width:min(var(--modal-max-width),var(--modal-size-lg))}:host([data-modal-size=xl]) .modal__panel{min-width:min(var(--modal-max-width),var(--modal-size-xl))}:host([data-modal-size=fullscreen]) .modal__panel{border-radius:var(--modal-radius-xl);height:calc(100vh - var(--modal-fullscreen-inset)*2);left:50%;max-height:calc(100vh - var(--modal-fullscreen-inset)*2);max-width:calc(100vw - var(--modal-fullscreen-inset)*2);top:50%;transform:translate(-50%,-50%);width:calc(100vw - var(--modal-fullscreen-inset)*2)}.modal__header{background:var(--modal-header-bg);border-bottom:var(--modal-border-width) solid var(--modal-panel-border);border-radius:var(--modal-radius) var(--modal-radius) 0 0;flex-shrink:0;gap:var(--modal-gap);padding:var(--modal-padding-y) var(--modal-padding-x)}.modal__header h2{font-size:var(--modal-font-md);font-weight:600;line-height:1.3;margin:0}.modal__spacer{flex:1}.modal__close{all:unset;align-items:center;border-radius:var(--modal-radius);cursor:pointer;display:inline-flex;font-size:var(--modal-font-md);font-weight:700;height:var(--modal-close-size);justify-content:center;width:var(--modal-close-size)}.modal__close:hover{background:var(--modal-close-hover-bg)}.modal__close:focus-visible{outline:2px solid currentColor;outline-offset:2px}.modal__content{flex:1 1 auto;overflow-x:hidden;overflow-y:auto;padding:var(--modal-padding-x);position:relative}.modal__footer{background:var(--modal-footer-bg);border-radius:0 0 var(--modal-radius) var(--modal-radius);border-top:var(--modal-border-width) solid var(--modal-panel-border);flex-shrink:0;gap:var(--modal-gap);justify-content:flex-end;padding:var(--modal-padding-y) var(--modal-padding-x)}::slotted(.btn){appearance:none;background:var(--modal-btn-bg);border:0;border-radius:var(--modal-radius-lg);color:var(--modal-btn-color);cursor:pointer;font-size:var(--modal-font-sm);font-weight:500;min-height:var(--modal-btn-min-height);padding:var(--modal-space-lg) var(--modal-padding-x);transition:all var(--modal-transition)}::slotted(.btn:hover){background:var(--modal-btn-hover-bg)}::slotted(.btn--primary){background:var(--modal-btn-primary-bg);color:var(--modal-btn-primary-color);font-weight:700}::slotted(.btn--primary:hover){background:var(--modal-btn-primary-hover-bg)}::slotted(.btn--danger){background:var(--modal-btn-danger-bg);color:var(--modal-btn-danger-color)}::slotted(.btn--danger:hover){background:var(--modal-btn-danger-hover-bg)}::slotted(.btn:disabled){cursor:not-allowed;opacity:var(--modal-disabled-opacity)}@keyframes modal-fade-in{0%{opacity:0}to{opacity:1}}@keyframes modal-backdrop-in{0%{opacity:0}to{opacity:1}}@keyframes modal-panel-in{0%{opacity:0;transform:translate(-50%,-50%) scale(.95)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}@media (prefers-reduced-motion:reduce){.modal__backdrop,.modal__close,.modal__panel,::slotted(.btn),:host([open]){animation:none;transition:none}}</style>\n\n      <div class="modal__backdrop" data-modal-backdrop part="backdrop"></div>\n      <div class="modal__panel" data-modal-panel part="panel" role="dialog" aria-modal="true">\n        <header class="modal__header" data-modal-header part="header">\n          <slot name="title"><h2>Dialog</h2></slot>\n          <div class="modal__spacer"></div>\n          <button class="modal__close" data-modal-close-btn aria-label="Close" part="close">Ã—</button>\n        </header>\n        <section class="modal__content" data-modal-content part="content">\n          <slot></slot>\n        </section>\n        <footer class="modal__footer" data-modal-footer part="footer">\n          <slot name="actions"></slot>\n        </footer>\n      </div>\n    ',this._elements={backdrop:a.querySelector("[data-modal-backdrop]"),panel:a.querySelector("[data-modal-panel]"),close:a.querySelector("[data-modal-close-btn]")},this._onKeydown=this._onKeydown.bind(this),this._onFocus=this._onFocus.bind(this),this.setAttribute("data-modal",e.CLOSED)}connectedCallback(){this._upgradeProperty("open"),this._elements.backdrop.addEventListener("click",()=>{this._isBackdropClosable()&&this.close()}),this._elements.close.addEventListener("click",()=>{this._isClosable()&&this.close()}),document.addEventListener("keydown",this._onKeydown),this.addEventListener("focusin",this._onFocus),this.addEventListener("click",a=>{a.target.hasAttribute("data-modal-close")&&this._isClosable()&&this.close()}),this._elements.panel.setAttribute("aria-labelledby",this._getTitleId())}disconnectedCallback(){document.removeEventListener("keydown",this._onKeydown),this.removeEventListener("focusin",this._onFocus)}attributeChangedCallback(a,o,e){"open"===a&&(this.hasAttribute("open")?this._onOpen():this._onClose())}open(){this.setAttribute("data-modal",e.OPENING),this.setAttribute("open",""),requestAnimationFrame(()=>{this.setAttribute("data-modal",e.OPEN)})}close(){this.setAttribute("data-modal",e.CLOSING);const a=1e3*parseFloat(getComputedStyle(this).getPropertyValue("--modal-animation-duration")||"0.2");setTimeout(()=>{this.removeAttribute("open"),this.setAttribute("data-modal",e.CLOSED)},a)}toggle(a){!0===a?this.open():!1===a||this.hasAttribute("open")?this.close():this.open()}_isClosable(){return"false"!==this.getAttribute("data-modal-closable")}_isBackdropClosable(){return this._isClosable()&&"false"!==this.getAttribute("data-modal-backdrop-close")}_isKeyboardEnabled(){return"false"!==this.getAttribute("data-modal-keyboard")}_onOpen(){this.dispatchEvent(new CustomEvent("modal:open",{bubbles:!0,detail:{modal:this}})),requestAnimationFrame(()=>{(this._getFirstFocusable()||this._elements.close).focus({preventScroll:!0})}),document.body.style.overflow="hidden"}_onClose(){this.dispatchEvent(new CustomEvent("modal:close",{bubbles:!0,detail:{modal:this}})),document.body.style.overflow=""}_onKeydown(a){this.hasAttribute("open")&&this._isKeyboardEnabled()&&("Escape"===a.key&&this._isClosable()&&(a.preventDefault(),this.close()),"Tab"===a.key&&this._trapTab(a))}_onFocus(){if(!this.contains(document.activeElement)){(this._getFirstFocusable()||this._elements.close).focus({preventScroll:!0})}}_getFocusableElements(){return a(this)}_getFirstFocusable(){return this._getFocusableElements()[0]||null}_trapTab(a){o(this,a)}_getTitleId(){const a=this.querySelector('[slot="title"]');return a&&a.id?a.id:"modal-title"}_upgradeProperty(a){if(this.hasOwnProperty(a)){const o=this[a];delete this[a],this[a]=o}}}customElements.get("p-modal")||customElements.define("p-modal",t);export{t as default};
