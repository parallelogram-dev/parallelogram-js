import{B as e}from"./parallelogram-demo.min.js";class t extends e{constructor(e={}){super(e)}_init(e){const t=super._init(e);return this.logger?.info("DemoSelectLoader component initializing for element:",e),this.element=e,this.setupAPIDemo(t),this.setupEventDemo(t),this.setupFormDemo(t),this.eventBus&&this.eventBus.emit("demo-selectloader:mounted",{element:e}),t}setupAPIDemo(e){const{controller:t}=e,n=document.getElementById("api-select"),l=document.getElementById("api-output");if(!n||!l)return;const o=()=>window.pageManager?.instances?window.pageManager.instances.get("selectloader"):null,a=document.getElementById("btn-reload");a&&a.addEventListener("click",()=>{const e=o();e&&"function"==typeof e.reload?e.reload(n):this.logger?.warn("SelectLoader instance not found for reload")},{signal:t.signal});const s=document.getElementById("btn-load-demo1");s&&s.addEventListener("click",()=>{const e=o();e&&"function"==typeof e.load?e.load(n,"fragments/api-demo-1.html"):this.logger?.warn("SelectLoader instance not found for load")},{signal:t.signal});const r=document.getElementById("btn-clear");r&&r.addEventListener("click",()=>{const e=o();e&&"function"==typeof e.clear?e.clear(n):this.logger?.warn("SelectLoader instance not found for clear")},{signal:t.signal});const i=document.getElementById("btn-get-state");i&&i.addEventListener("click",()=>{const e=o();if(e&&"function"==typeof e.getLoadState){const t=e.getLoadState(n);l.textContent=JSON.stringify(t,null,2),l.style.display="block"}else this.logger?.warn("SelectLoader instance not found for getLoadState")},{signal:t.signal})}setupEventDemo(e){const{controller:t}=e,n=document.getElementById("events-select"),l=document.getElementById("event-log-list");if(!n||!l)return;const o=(e,t)=>{const n=document.createElement("li");n.className="event__log-item";const o=(new Date).toLocaleTimeString();n.innerHTML=`\n        <strong>${o}</strong> - ${e}\n        <pre>${JSON.stringify(t,null,2)}</pre>\n      `,l.insertBefore(n,l.firstChild),l.children.length>5&&l.removeChild(l.lastChild)};n.addEventListener("selectloader:before-change",e=>{o("selectloader:before-change",{value:e.detail.value})},{signal:t.signal}),n.addEventListener("selectloader:loading",e=>{o("selectloader:loading",{url:e.detail.url})},{signal:t.signal}),n.addEventListener("selectloader:loaded",e=>{o("selectloader:loaded",{url:e.detail.url})},{signal:t.signal}),n.addEventListener("selectloader:error",e=>{o("selectloader:error",{error:e.detail.error.message})},{signal:t.signal}),n.addEventListener("selectloader:cleared",e=>{o("selectloader:cleared",{})},{signal:t.signal});const a=document.getElementById("clear-log");a&&a.addEventListener("click",()=>{l.innerHTML=""},{signal:t.signal})}setupFormDemo(e){const{controller:t}=e,n=document.getElementById("region-form");n&&n.addEventListener("submit",e=>{e.preventDefault(),alert("Form submitted! (prevented for demo)")},{signal:t.signal})}}export{t as DemoSelectLoader,t as default};
