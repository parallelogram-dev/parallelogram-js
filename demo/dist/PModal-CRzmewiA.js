import{g as n,t as a}from"./parallelogram-demo.min.js";const o="open",e="closed",t="opening",d="closing";class l extends HTMLElement{static get observedAttributes(){return["open","data-modal-size","data-modal-closable"]}constructor(){super();const n=this.attachShadow({mode:"open"});n.innerHTML='\n      <style>\n        /* Global Hidden Rule */\n        [hidden] {\n          display: none !important;\n        }\n\n        /* Host & Core Properties */\n        :host {\n          display: none;\n          box-sizing: border-box;\n\n          /* Colors (matching PDatetime for consistency) */\n          --modal-text: currentColor;\n          --modal-muted: rgba(0, 0, 0, 0.5);\n          --modal-accent: #3b82f6;\n          --modal-hover: rgba(0, 0, 0, 0.05);\n          --modal-backdrop-bg: rgba(0, 0, 0, 0.45);\n          --modal-panel-bg: #ffffff;\n          --modal-panel-color: #1f2937;\n          --modal-panel-border: rgba(0, 0, 0, 0.1);\n          --modal-header-bg: #ffffff;\n          --modal-header-border: rgba(0, 0, 0, 0.1);\n          --modal-footer-bg: #ffffff;\n          --modal-footer-border: rgba(0, 0, 0, 0.1);\n          --modal-close-hover-bg: rgba(0, 0, 0, 0.08);\n          --modal-btn-primary-bg: #3b82f6;\n          --modal-btn-primary-color: #ffffff;\n          --modal-btn-primary-hover-bg: #2563eb;\n          --modal-btn-danger-bg: #dc2626;\n          --modal-btn-danger-color: #ffffff;\n          --modal-btn-danger-hover-bg: #b91c1c;\n          --modal-btn-bg: #f3f4f6;\n          --modal-btn-color: #1f2937;\n          --modal-btn-hover-bg: #e5e7eb;\n\n          /* Opacity */\n          --modal-placeholder-opacity: 0.6;\n          --modal-disabled-opacity: 0.5;\n\n          /* Spacing (em-based for scalability) */\n          --modal-space-xs: 0.125em;    /* 2px at 16px base */\n          --modal-space-sm: 0.25em;     /* 4px */\n          --modal-space-md: 0.5em;      /* 8px */\n          --modal-space-lg: 0.75em;     /* 12px */\n          --modal-space-xl: 1em;        /* 16px */\n          --modal-padding-x: 0.875em;   /* 14px */\n          --modal-padding-y: 0.75em;    /* 12px */\n          --modal-gap: 0.5em;           /* 8px */\n\n          /* Border Radius */\n          --modal-radius: 0.5em;        /* 8px */\n          --modal-radius-lg: 0.625em;   /* 10px */\n          --modal-radius-xl: 1em;       /* 16px */\n\n          /* Borders */\n          --modal-border-width: 1px;\n\n          /* Shadows */\n          --modal-shadow-color: rgba(0, 0, 0, 0.5);\n          --modal-shadow: 0 1.25em 3.75em var(--modal-shadow-color);\n\n          /* Timing */\n          --modal-transition: 0.2s ease;\n          --modal-animation-duration: 0.2s;\n          --modal-animation-easing: ease-out;\n\n          /* Sizes */\n          --modal-size-xs: 18.75em;     /* 300px */\n          --modal-size-sm: 25em;        /* 400px */\n          --modal-size-md: 40em;        /* 640px - default */\n          --modal-size-lg: 50em;        /* 800px */\n          --modal-size-xl: 62.5em;      /* 1000px */\n          --modal-max-width: 92vw;\n          --modal-max-height: 86vh;\n          --modal-fullscreen-inset: 3em; /* 48px */\n          --modal-close-size: 1.75em;   /* 28px */\n          --modal-font-sm: 0.875em;     /* 14px */\n          --modal-font-md: 1.125em;     /* 18px */\n          --modal-btn-min-height: 3.125em; /* 50px */\n        }\n\n        /* Shared - Border Properties */\n        .modal__panel {\n          border: var(--modal-border-width) solid var(--modal-panel-border);\n        }\n\n        /* Shared - Border Radius */\n        .modal__panel,\n        .modal__close,\n        ::slotted(.btn) {\n          border-radius: var(--modal-radius-lg);\n        }\n\n        /* Shared - Flex Center Layout */\n        .modal__close,\n        .modal__header,\n        .modal__footer {\n          display: flex;\n          align-items: center;\n        }\n\n        /* Shared - Transitions (only for users who prefer motion) */\n        @media (prefers-reduced-motion: no-preference) {\n          .modal__backdrop {\n            transition: opacity var(--modal-transition);\n          }\n\n          .modal__panel {\n            transition: opacity var(--modal-transition),\n                        transform var(--modal-transition);\n          }\n\n          .modal__close {\n            transition: background-color var(--modal-transition);\n          }\n\n          ::slotted(.btn) {\n            transition: background-color var(--modal-transition),\n                        color var(--modal-transition),\n                        transform var(--modal-transition);\n          }\n        }\n\n        /* Host states */\n        :host {\n          display: none;\n        }\n\n        :host([open]) {\n          display: block;\n          position: fixed;\n          inset: 0;\n          z-index: 9999;\n          animation: modal-fade-in var(--modal-animation-duration) var(--modal-animation-easing);\n        }\n\n        /* Block: Modal backdrop */\n        .modal__backdrop {\n          position: absolute;\n          inset: 0;\n          background: var(--modal-backdrop-bg);\n          animation: modal-backdrop-in var(--modal-animation-duration) var(--modal-animation-easing);\n        }\n\n        /* Block: Modal panel */\n        .modal__panel {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          display: flex;\n          flex-direction: column;\n          min-width: min(var(--modal-max-width), var(--modal-size-md));\n          max-width: var(--modal-max-width);\n          max-height: var(--modal-max-height);\n          background: var(--modal-panel-bg);\n          color: var(--modal-panel-color);\n          box-shadow: var(--modal-shadow);\n          animation: modal-panel-in var(--modal-animation-duration) var(--modal-animation-easing);\n        }\n\n        /* Panel size modifiers */\n        :host([data-modal-size="xs"]) .modal__panel {\n          min-width: min(var(--modal-max-width), var(--modal-size-xs));\n        }\n\n        :host([data-modal-size="sm"]) .modal__panel {\n          min-width: min(var(--modal-max-width), var(--modal-size-sm));\n        }\n\n        :host([data-modal-size="lg"]) .modal__panel {\n          min-width: min(var(--modal-max-width), var(--modal-size-lg));\n        }\n\n        :host([data-modal-size="xl"]) .modal__panel {\n          min-width: min(var(--modal-max-width), var(--modal-size-xl));\n        }\n\n        :host([data-modal-size="fullscreen"]) .modal__panel {\n          width: calc(100vw - calc(var(--modal-fullscreen-inset) * 2));\n          height: calc(100vh - calc(var(--modal-fullscreen-inset) * 2));\n          max-width: calc(100vw - calc(var(--modal-fullscreen-inset) * 2));\n          max-height: calc(100vh - calc(var(--modal-fullscreen-inset) * 2));\n          border-radius: var(--modal-radius-xl);\n          transform: translate(-50%, -50%);\n          top: 50%;\n          left: 50%;\n        }\n\n        /* Element: Modal header */\n        .modal__header {\n          flex-shrink: 0;\n          gap: var(--modal-gap);\n          padding: var(--modal-padding-y) var(--modal-padding-x);\n          background: var(--modal-header-bg);\n          border-bottom: var(--modal-border-width) solid var(--modal-panel-border);\n          border-radius: var(--modal-radius) var(--modal-radius) 0 0;\n        }\n\n        .modal__header h2 {\n          margin: 0;\n          font-size: var(--modal-font-md);\n          line-height: 1.3;\n          font-weight: 600;\n        }\n\n        /* Element: Header spacer */\n        .modal__spacer {\n          flex: 1;\n        }\n\n        /* Element: Close button */\n        .modal__close {\n          all: unset;\n          display: inline-flex;\n          align-items: center;\n          justify-content: center;\n          width: var(--modal-close-size);\n          height: var(--modal-close-size);\n          border-radius: var(--modal-radius);\n          cursor: pointer;\n          font-size: var(--modal-font-md);\n          font-weight: bold;\n        }\n\n        .modal__close:hover {\n          background: var(--modal-close-hover-bg);\n        }\n\n        .modal__close:focus-visible {\n          outline: 2px solid currentColor;\n          outline-offset: 2px;\n        }\n\n        /* Element: Modal content */\n        .modal__content {\n          flex: 1 1 auto;\n          overflow-y: auto;\n          overflow-x: hidden;\n          position: relative;\n          padding: var(--modal-padding-x);\n        }\n\n        /* Element: Modal footer */\n        .modal__footer {\n          flex-shrink: 0;\n          padding: var(--modal-padding-y) var(--modal-padding-x);\n          gap: var(--modal-gap);\n          justify-content: flex-end;\n          background: var(--modal-footer-bg);\n          border-top: var(--modal-border-width) solid var(--modal-panel-border);\n          border-radius: 0 0 var(--modal-radius) var(--modal-radius);\n        }\n\n        /* Slotted button styles (BEM classes) */\n        ::slotted(.btn) {\n          appearance: none;\n          border: 0;\n          border-radius: var(--modal-radius-lg);\n          padding: var(--modal-space-lg) var(--modal-padding-x);\n          background: var(--modal-btn-bg);\n          color: var(--modal-btn-color);\n          cursor: pointer;\n          font-size: var(--modal-font-sm);\n          font-weight: 500;\n          min-height: var(--modal-btn-min-height);\n          transition: all var(--modal-transition);\n        }\n\n        ::slotted(.btn:hover) {\n          background: var(--modal-btn-hover-bg);\n        }\n\n        ::slotted(.btn--primary) {\n          background: var(--modal-btn-primary-bg);\n          color: var(--modal-btn-primary-color);\n          font-weight: 700;\n        }\n\n        ::slotted(.btn--primary:hover) {\n          background: var(--modal-btn-primary-hover-bg);\n        }\n\n        ::slotted(.btn--danger) {\n          background: var(--modal-btn-danger-bg);\n          color: var(--modal-btn-danger-color);\n        }\n\n        ::slotted(.btn--danger:hover) {\n          background: var(--modal-btn-danger-hover-bg);\n        }\n\n        ::slotted(.btn:disabled) {\n          opacity: var(--modal-disabled-opacity);\n          cursor: not-allowed;\n        }\n\n        /* Animations */\n        @keyframes modal-fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        @keyframes modal-backdrop-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        @keyframes modal-panel-in {\n          from { \n            opacity: 0;\n            transform: translate(-50%, -50%) scale(0.95);\n          }\n          to { \n            opacity: 1;\n            transform: translate(-50%, -50%) scale(1);\n          }\n        }\n\n        /* Reduced motion support */\n        @media (prefers-reduced-motion: reduce) {\n          :host([open]),\n          .modal__backdrop,\n          .modal__panel,\n          .modal__close,\n          ::slotted(.btn) {\n            animation: none;\n            transition: none;\n          }\n        }\n      </style>\n\n      <div class="modal__backdrop" data-modal-backdrop part="backdrop"></div>\n      <div class="modal__panel" data-modal-panel part="panel" role="dialog" aria-modal="true">\n        <header class="modal__header" data-modal-header part="header">\n          <slot name="title"><h2>Dialog</h2></slot>\n          <div class="modal__spacer"></div>\n          <button class="modal__close" data-modal-close-btn aria-label="Close" part="close">Ã—</button>\n        </header>\n        <section class="modal__content" data-modal-content part="content">\n          <slot></slot>\n        </section>\n        <footer class="modal__footer" data-modal-footer part="footer">\n          <slot name="actions"></slot>\n        </footer>\n      </div>\n    ',this._elements={backdrop:n.querySelector("[data-modal-backdrop]"),panel:n.querySelector("[data-modal-panel]"),close:n.querySelector("[data-modal-close-btn]")},this._onKeydown=this._onKeydown.bind(this),this._onFocus=this._onFocus.bind(this),this.setAttribute("data-modal",e)}connectedCallback(){this._upgradeProperty("open"),this._elements.backdrop.addEventListener("click",()=>{this._isBackdropClosable()&&this.close()}),this._elements.close.addEventListener("click",()=>{this._isClosable()&&this.close()}),document.addEventListener("keydown",this._onKeydown),this.addEventListener("focusin",this._onFocus),this.addEventListener("click",n=>{n.target.hasAttribute("data-modal-close")&&this._isClosable()&&this.close()}),this._elements.panel.setAttribute("aria-labelledby",this._getTitleId())}disconnectedCallback(){document.removeEventListener("keydown",this._onKeydown),this.removeEventListener("focusin",this._onFocus)}attributeChangedCallback(n,a,o){"open"===n&&(this.hasAttribute("open")?this._onOpen():this._onClose())}open(){this.setAttribute("data-modal",t),this.setAttribute("open",""),requestAnimationFrame(()=>{this.setAttribute("data-modal",o)})}close(){this.setAttribute("data-modal",d);const n=1e3*parseFloat(getComputedStyle(this).getPropertyValue("--modal-animation-duration")||"0.2");setTimeout(()=>{this.removeAttribute("open"),this.setAttribute("data-modal",e)},n)}toggle(n){!0===n?this.open():!1===n||this.hasAttribute("open")?this.close():this.open()}_isClosable(){return"false"!==this.getAttribute("data-modal-closable")}_isBackdropClosable(){return this._isClosable()&&"false"!==this.getAttribute("data-modal-backdrop-close")}_isKeyboardEnabled(){return"false"!==this.getAttribute("data-modal-keyboard")}_onOpen(){this.dispatchEvent(new CustomEvent("modal:open",{bubbles:!0,detail:{modal:this}})),requestAnimationFrame(()=>{(this._getFirstFocusable()||this._elements.close).focus({preventScroll:!0})}),document.body.style.overflow="hidden"}_onClose(){this.dispatchEvent(new CustomEvent("modal:close",{bubbles:!0,detail:{modal:this}})),document.body.style.overflow=""}_onKeydown(n){this.hasAttribute("open")&&this._isKeyboardEnabled()&&("Escape"===n.key&&this._isClosable()&&(n.preventDefault(),this.close()),"Tab"===n.key&&this._trapTab(n))}_onFocus(){if(!this.contains(document.activeElement)){(this._getFirstFocusable()||this._elements.close).focus({preventScroll:!0})}}_getFocusableElements(){return n(this)}_getFirstFocusable(){return this._getFocusableElements()[0]||null}_trapTab(n){a(this,n)}_getTitleId(){const n=this.querySelector('[slot="title"]');return n&&n.id?n.id:"modal-title"}_upgradeProperty(n){if(this.hasOwnProperty(n)){const a=this[n];delete this[n],this[n]=a}}}customElements.get("p-modal")||customElements.define("p-modal",l);export{l as default};
