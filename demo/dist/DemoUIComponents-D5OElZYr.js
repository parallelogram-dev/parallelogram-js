import{B as e}from"./parallelogram-demo.min.js";class t extends e{constructor(e={}){super(e)}_init(e){const t=super._init(e);return console.log("DemoUIComponents component initializing for element:",e),this.element=e,this.setupEventListeners(t),this.setupButtonHandlers(t),this.notifyPageLoaded(),this.eventBus&&this.eventBus.emit("demo-ui-components:mounted",{element:e}),t}setupEventListeners(e){const{controller:t}=e;document.addEventListener("p-select:change",e=>{this.addEventToLog("p-select:change",e.detail)},{signal:t.signal}),document.addEventListener("modal:open",e=>{this.addEventToLog("modal:open",{modalId:e.target.id})},{signal:t.signal}),document.addEventListener("modal:close",e=>{this.addEventToLog("modal:close",{modalId:e.target.id})},{signal:t.signal})}setupButtonHandlers(e){const{controller:t}=e;this.element.querySelectorAll("[data-btn-action]").forEach(e=>{const n=e.getAttribute("data-btn-action");e.removeAttribute("onclick"),n.includes("handleFormSubmit")?e.addEventListener("click",e=>this.handleFormSubmit(e),{signal:t.signal}):n.includes("clearEventLog")?e.addEventListener("click",()=>this.clearEventLog(),{signal:t.signal}):n.includes("exportEventLog")?e.addEventListener("click",()=>this.exportEventLog(),{signal:t.signal}):n.includes("handleDatetimeDemo")?e.addEventListener("click",()=>this.handleDatetimeDemo(),{signal:t.signal}):n.includes("performance")?e.addEventListener("click",()=>{window.location.href="/performance"},{signal:t.signal}):e.addEventListener("click",t=>{"submit"!==e.type&&t.preventDefault(),this.handleModalAction(n,e)},{signal:t.signal})})}handleModalAction(e,t){switch(e){case"open-form-modal":this.handleOpenFormModal();break;case"cancel-form":this.handleCancelForm();break;case"submit-form":this.handleSubmitForm(t);break;case"close-gallery":this.handleCloseGallery();break;case"add-to-collection":this.handleAddToCollection(t);break;case"close-large-modal":this.handleCloseLargeModal();break;case"view-performance":this.handleViewPerformance(t)}}handleOpenFormModal(){this.addEventToLog("modal:action",{action:"open-form-modal",timestamp:Date.now()}),this.eventBus&&this.eventBus.emit("demo:form-modal-open",{modalType:"form"})}handleCancelForm(){this.addEventToLog("modal:action",{action:"cancel-form",timestamp:Date.now()})}handleSubmitForm(e){const t=e.textContent;e.textContent="Sending...",e.disabled=!0,setTimeout(()=>{e.textContent="Sent!",e.style.background="var(--color-success)",setTimeout(()=>{e.textContent=t,e.disabled=!1,e.style.background=""},2e3)},1500),this.addEventToLog("modal:action",{action:"submit-form",timestamp:Date.now()})}handleCloseGallery(){this.addEventToLog("modal:action",{action:"close-gallery",timestamp:Date.now()})}handleAddToCollection(e){const t=e.textContent;e.textContent="Added!",e.disabled=!0,e.style.background="var(--color-success)",setTimeout(()=>{e.textContent=t,e.disabled=!1,e.style.background=""},2e3),this.addEventToLog("modal:action",{action:"add-to-collection",item:"gallery-item",timestamp:Date.now()})}handleCloseLargeModal(){this.addEventToLog("modal:action",{action:"close-large-modal",timestamp:Date.now()})}handleViewPerformance(e){const t=e.textContent;e.textContent="ðŸ“Š Loading...",e.disabled=!0,setTimeout(()=>{e.textContent="âœ… Report Ready",e.style.background="var(--color-success)",this.addEventToLog("performance:report",{loadTime:"1.2s",components:15,events:47,timestamp:Date.now()}),setTimeout(()=>{e.textContent=t,e.disabled=!1,e.style.background=""},3e3)},2e3),this.addEventToLog("modal:action",{action:"view-performance",timestamp:Date.now()})}handleFormSubmit(e){e.preventDefault();const t=new FormData;document.querySelectorAll("p-select[name]").forEach(e=>{e.name&&e.getValue()&&t.set(e.name,e.getValue())});const n=Object.fromEntries(t);console.log("Form submitted with data:",n),window.Toast&&window.Toast.show?window.Toast.show("Form submitted successfully!","success"):alert(`Form submitted! Data: ${JSON.stringify(n)}`)}handleDatetimeDemo(){const e=document.querySelectorAll("p-datetime"),t={};e.forEach((e,n)=>{const o=e.getAttribute("name")||`datetime-${n}`,a=e.getValue?e.getValue():e.value;t[o]=a}),this.addEventToLog("datetime:demo-values",t),window.Toast&&window.Toast.show?window.Toast.show(`Datetime values: ${JSON.stringify(t)}`,"info"):alert(`Datetime values: ${JSON.stringify(t)}`)}clearEventLog(){const e=this.element.querySelector(".event__log-content");e&&(e.innerHTML='<div class="event__log-item"><div><em>Event log cleared</em></div></div>')}exportEventLog(){const e=this.element.querySelector(".event__log-content");if(!e)return;const t=Array.from(e.children).map(e=>({timestamp:e.querySelector("small")?.textContent,event:e.querySelector("strong")?.textContent,data:e.querySelector("pre")?.textContent})),n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),o=URL.createObjectURL(n),a=document.createElement("a");a.href=o,a.download=`ui-events-${Date.now()}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)}addEventToLog(e,t){const n=this.element.querySelector(".event__log-content");if(!n)return;const o=(new Date).toLocaleTimeString(),a=document.createElement("div");a.className="event__log-item",a.innerHTML=`\n            <div style="display: flex; justify-content: space-between; align-items: flex-start;">\n                <div>\n                    <strong>${e}</strong>\n                    <pre>${JSON.stringify(t,null,2)}</pre>\n                </div>\n                <small style="color: #999; margin-left: 1rem;">${o}</small>\n            </div>\n        `,n.insertBefore(a,n.firstChild);const s=n.querySelectorAll(".event__log-item");s.length>10&&s[s.length-1].remove()}emit(e,t){this.eventBus&&this.eventBus.emit(e,t)}notifyPageLoaded(){window.eventBus&&window.eventBus.emit("page:loaded",{page:"/ui-components",components:["modal","toast","select"],timestamp:performance.now()})}}export{t as DemoUIComponents};
